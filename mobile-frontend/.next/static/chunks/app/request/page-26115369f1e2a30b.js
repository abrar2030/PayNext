(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{7631:(e,s,t)=>{Promise.resolve().then(t.bind(t,5019))},5019:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(2860),n=t(3200);let o=e=>{let{children:s,className:t}=e;return(0,a.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 ".concat(t),children:s})},r=async(e,s)=>(console.log("Posting to API: ".concat(e),s),await new Promise(e=>setTimeout(e,700)),Math.random()>.1)?{success:!0,message:"Request sent successfully!"}:{success:!1,message:"Failed to send request. Please try again."};function l(){let[e,s]=(0,n.useState)(""),[t,l]=(0,n.useState)(""),[d,u]=(0,n.useState)(""),[i,c]=(0,n.useState)({type:"idle",message:""}),m=async a=>{a.preventDefault(),c({type:"loading",message:"Sending request..."});let n={payer:e,amount:parseFloat(t),note:d},o=await r("/api/payments/request",n);o.success?(c({type:"success",message:o.message}),s(""),l(""),u("")):c({type:"error",message:o.message})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Request Money"}),(0,a.jsx)(o,{children:(0,a.jsxs)("form",{className:"space-y-4",onSubmit:m,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"payer",className:"block text-sm font-medium text-gray-700 mb-1",children:"From (Username or Phone)"}),(0,a.jsx)("input",{type:"text",id:"payer",name:"payer",value:e,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter username or phone number",required:!0,disabled:"loading"===i.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),(0,a.jsx)("input",{type:"number",id:"amount",name:"amount",step:"0.01",value:t,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0,disabled:"loading"===i.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700 mb-1",children:"Note (Optional)"}),(0,a.jsx)("textarea",{id:"note",name:"note",rows:3,value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Reason for request",disabled:"loading"===i.type})]}),"idle"!==i.type&&(0,a.jsx)("div",{className:"p-3 rounded-md text-sm ".concat("loading"===i.type?"bg-yellow-100 text-yellow-800":"success"===i.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:i.message}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 font-medium disabled:opacity-50",disabled:"loading"===i.type,children:"loading"===i.type?"Sending...":"Send Request"})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[685,411,358],()=>s(7631)),_N_E=e.O()}]);