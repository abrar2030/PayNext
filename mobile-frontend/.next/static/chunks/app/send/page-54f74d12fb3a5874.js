(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[165],{2922:(e,s,t)=>{Promise.resolve().then(t.bind(t,2920))},2920:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(2860),n=t(3200);let l=e=>{let{children:s,className:t}=e;return(0,a.jsx)("div",{className:"bg-white shadow-md rounded-lg p-4 ".concat(t),children:s})},o=async(e,s)=>(console.log("Posting to API: ".concat(e),s),await new Promise(e=>setTimeout(e,700)),Math.random()>.1)?{success:!0,message:"Payment sent successfully!"}:{success:!1,message:"Payment failed. Please try again."};function r(){let[e,s]=(0,n.useState)(""),[t,r]=(0,n.useState)(""),[d,i]=(0,n.useState)(""),[u,c]=(0,n.useState)({type:"idle",message:""}),m=async a=>{a.preventDefault(),c({type:"loading",message:"Processing payment..."});let n={recipient:e,amount:parseFloat(t),note:d},l=await o("/api/payments/send",n);l.success?(c({type:"success",message:l.message}),s(""),r(""),i("")):c({type:"error",message:l.message})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Send Money"}),(0,a.jsx)(l,{children:(0,a.jsxs)("form",{className:"space-y-4",onSubmit:m,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"recipient",className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient (Username or Phone)"}),(0,a.jsx)("input",{type:"text",id:"recipient",name:"recipient",value:e,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter username or phone number",required:!0,disabled:"loading"===u.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount ($)"}),(0,a.jsx)("input",{type:"number",id:"amount",name:"amount",step:"0.01",value:t,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0,disabled:"loading"===u.type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"note",className:"block text-sm font-medium text-gray-700 mb-1",children:"Note (Optional)"}),(0,a.jsx)("textarea",{id:"note",name:"note",rows:3,value:d,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"What's this for?",disabled:"loading"===u.type})]}),"idle"!==u.type&&(0,a.jsx)("div",{className:"p-3 rounded-md text-sm ".concat("loading"===u.type?"bg-yellow-100 text-yellow-800":"success"===u.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:u.message}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 font-medium disabled:opacity-50",disabled:"loading"===u.type,children:"loading"===u.type?"Sending...":"Send Payment"})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[685,411,358],()=>s(2922)),_N_E=e.O()}]);